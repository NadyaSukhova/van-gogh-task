<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpartsPRO</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="main-header">
        <a href="/" aria-label="На главную страницу">
            <img src="./images/Company.svg" alt="Логотип компании" class="header-logo">
        </a>
        <button class="toggle-nav" aria-label="Открыть меню">
            <img src="./images/Open.svg">
        </button>
        <nav aria-label="Основная навигация" class="main-nav">
            <ul class="header-buttons">
                <li><a href="/">Главная</a></li>
                <li><a href="/catalog">Каталог</a></li>
                <li><a href="/about">О компании</a></li>
                <li><a href="/delivery">Оплата и доставка</a></li>
                <li><a href="/contacts">Контакты</a></li>
            </ul>
        </nav>
        <nav aria-label="Основная навигация" class="main-nav-phone nav-closed">
            <ul class="header-buttons-phone">
                <li><a href="/">Главная</a></li>
                <hr class="hr-phone hr-closed">
                <li><a href="/catalog">Каталог</a></li>
                <hr class="hr-phone hr-closed">
                <li><a href="/about">О компании</a></li>
                <hr class="hr-phone hr-closed">
                <li><a href="/delivery">Оплата и доставка</a></li>
                <hr class="hr-phone hr-closed">
                <li><a href="/contacts">Контакты</a></li>
                <hr class="hr-phone hr-closed">
            </ul>
        </nav>
    </header>
    <hr class="hr-phone hr-closed">

    <script>

        let isPhoneScreen = false;
        let previousWidth = window.innerWidth;
        const toggleButton = document.querySelector('.toggle-nav');
        const buttonImage = toggleButton.querySelector('img');
        const navMenuPhone = document.querySelectorAll('.main-nav-phone');
        const hrPhone = document.querySelectorAll('.hr-phone');


        function toggleMenu() {
            isPhoneScreen = !isPhoneScreen;
            
            if (isPhoneScreen) {
                buttonImage.src = "./images/Close.svg";
                for (let nav of navMenuPhone) {
                    nav.classList.add("nav-open");
                    nav.classList.remove("nav-closed");
                }
                for (let hr of hrPhone) {
                    hr.classList.add("hr-open");
                    hr.classList.remove("hr-closed");
                }
            } else {
                buttonImage.src = "./images/Open.svg";
                for (let nav of navMenuPhone) {
                    nav.classList.add("nav-closed");
                    nav.classList.remove("nav-open");
                }
                for (let hr of hrPhone) {
                    hr.classList.add("hr-closed");
                    hr.classList.remove("hr-open");
                }
            }
        }

        function windowResize() {
            if (window.innerWidth > 1160) {
                isPhoneScreen = false;
                for (let nav of navMenuPhone) {
                    nav.classList.add("nav-closed");
                    nav.classList.remove("nav-open");
                }
                for (let hr of hrPhone) {
                    hr.classList.add("hr-closed");
                    hr.classList.remove("hr-open");
                }
                buttonImage.src = "./images/Open.svg";
            } else {
                if (window.innerWidth < 1160 && previousWidth > 1160) {
                    isPhoneScreen = false;
                    for (let nav of navMenuPhone) {
                        nav.classList.add("nav-closed");
                        nav.classList.remove("nav-open");
                    }
                    for (let hr of hrPhone) {
                        hr.classList.add("hr-closed");
                        hr.classList.remove("hr-open");
                    }
                    buttonImage.src = "./images/Open.svg";
                }
            }
            previousWidth = window.innerWidth;
        }

        // Назначение обработчиков событий
        toggleButton.addEventListener('click', toggleMenu);
        window.addEventListener('resize', windowResize);
    </script>
</body>
</html>